<!DOCTYPE html>
<html lang="en">

<head>
    <title>Debug Settings</title>
    <link rel="stylesheet" type="text/css" href="onsenui/css/onsenui.css" />
    <link rel="stylesheet" type="text/css" href="onsenui/css/onsen-css-components.min.css" />
    <script src="onsenui/js/onsenui.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
    <div class="left">
            <ons-back-button onclick="window.history.back()"></ons-back-button></div>
    </div>
    <ons-list-header>request</ons-list-header>
    <ons-list-item>
        <div class="center">
            switch on
        </div>
        <div class="right" onchange="switchFunc()">
            <ons-switch id="switch"></ons-switch>
        </div>
    </ons-list-item>
    <ons-list-header>Server IP Adresse</ons-list-header>
    <ons-list-item>
        <div class="center">
            <input onchange="inputFunc()" style="border: none" id="ipAdress" type="text" maxlength="50" size="50"
                value="http://192.168.1.8:5000/">
        </div>
    </ons-list-item>
</head>

<body>

    <script>
        document.addEventListener("deviceready", onDeviceReady, false);
        //get device uuid
        function onDeviceReady() {
            if ("settings_request" in localStorage) {
                switchState = localStorage.getItem("settings_request")
                console.log(switchState)
                if (switchState == 'true') {
                    document.getElementById("switch").checked = true
                } else {
                    document.getElementById("switch").checked = false
                }
            }
            if ("settings_ipAdress" in localStorage) {
                document.getElementById("ipAdress").value = localStorage.getItem("settings_ipAdress")
            } else {
                ipAdress = document.getElementById("ipAdress").value
                localStorage.setItem("settings_ipAdress", ipAdress);
            }
        }

        function switchFunc() {
            switchState = document.getElementById("switch").checked
            localStorage.setItem("settings_request", switchState);
            console.log(switchState)
        }

        function inputFunc() {
            ipAdress = document.getElementById("ipAdress").value
            localStorage.setItem("settings_ipAdress", ipAdress);
        }

    </script>
</body>

</html>